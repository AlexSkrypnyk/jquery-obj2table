/* obj2table jQuery plugin v.1.0.0 https://github.com/alexdesignworks/jquery-obj2table | License: GPL-2.0 */!function(a,b){"use strict";var c="obj2table",d="1.0.0";a.fn[c]=function(b,c){var e;return c=c||!1,b=a.isArray(b)?{rows:b}:b,e=a.extend({},{caption:"",header:[],rows:[],footer:[],attributes:{},zebra:!1,zebraOdd:"odd",zebraEven:"even",rowFirst:"",rowLast:"",columnFirst:"",columnLast:"",incrementRows:!1,incrementColumns:!1,empty:!1,autospan:!1,responsive:!1,tagTable:"table",tagCaption:"caption",tagBody:"tbody",tagHeader:"thead",tagHeaderCell:"th",tagFooter:"tfoot",tagFooterCell:"th",tagRow:"tr",tagCell:"td"},b),e.version=d,this.processSettings=function(a){a.responsive&&(a.tagTable=a.tagCaption=a.tagBody=a.tagHeader=a.tagHeaderCell=a.tagFooter=a.tagFooterCell=a.tagRow=a.tagCell="div",a.autospan=!1),a.autospan&&(a.autospan=this.getMaxColumns([a.rows,a.header,a.footer])),this.settings=a},this.createTable=function(){var a,b,c,d=this.settings;a=this.createElement(d.tagTable),this.setAttributes(a,d.attributes),this.createCaption(a),b={header:{tag:d.tagHeader,tagRow:d.tagRow,tagCell:d.tagHeaderCell,data:d.header},body:{tag:d.tagBody,tagRow:d.tagRow,tagCell:d.tagCell,data:d.rows},footer:{tag:d.tagFooter,tagRow:d.tagRow,tagCell:d.tagFooterCell,data:d.footer}};for(c in b)b.hasOwnProperty(c)&&b[c].data.length>0&&a.append(this.createElement(b[c].tag,this.createRows(b[c].data,b[c].tagRow,b[c].tagCell)));return this.renderElement(a)},this.createCaption=function(a){""!==this.settings.caption&&a.append(this.createElement(this.settings.tagCaption,this.settings.caption))},this.createRows=function(b,c,d){var e,f,g=a();for(f=0;f<b.length;f++)e=this.createRow(b[f],c,d),this.setDefaultRowClasses(e,f,b.length),a.merge(g,e);return g},this.createRow=function(a,b,c){var d,e,f=this.createElement(b);for(a=this.normaliseDataNode(a),e=0;e<a.data.length;e++)d=this.createCell(a.data[e],c),this.setDefaultCellClasses(d,e,a.data.length),this.setCellAutospan(d,e,a.data.length),f.append(d);return f.setAttributes(f,a.attributes),f},this.createCell=function(a,b){a=this.normaliseDataNode(a);var c=this.createElement(b);return c.html(a.data),this.setAttributes(c,a.attributes),c},this.setAttributes=function(a,b){if("undefined"!=typeof a&&"undefined"!=typeof b&&0!==b.length)for(var c in b)b.hasOwnProperty(c)&&a.attr(c,b[c])},this.createElement=function(b,c){return c=c||"",a("<"+b+"></"+b+">").append(c)},this.renderElement=function(a){return a.wrap("<div/>").parent().html()},this.normaliseDataNode=function(b){return a.isPlainObject(b)?(b.data="undefined"==typeof b.data?"":b.data,b.attributes="undefined"==typeof b.attributes?{}:b.attributes):b={data:b,attributes:{}},b},this.setDefaultRowClasses=function(a,b,c){var d=this.settings;d.incrementRows&&a.addClass("row-"+(b+1).toString()),0===b&&a.addClass(d.rowFirst),b===c-1&&a.addClass(d.rowLast),e.zebra&&a.addClass(b%2?d.zebraEven:d.zebraOdd)},this.setDefaultCellClasses=function(a,b,c){var d=this.settings;d.incrementColumns&&a.addClass("column-"+(b+1).toString()),0===b&&a.addClass(d.columnFirst),b===c-1&&a.addClass(d.columnLast)},this.getMaxColumns=function(a){var b,c,d=0;for(b=0;b<a.length;b++)for(c=0;c<a[b].length;c++)d=Math.max(d,a[b][c].length);return d},this.setCellAutospan=function(a,b,c){this.settings.autospan&&b===c-1&&c<this.settings.autospan&&a.attr("colspan",this.settings.autospan-c+1)},this.renderEmpty=function(){return this.settings.empty===!1?"":"string"==typeof this.settings.empty?this.settings.empty:(this.settings.rows.push([""]),this.createTable())},this.processSettings(e),c?this:0===this.settings.rows.length?this.renderEmpty():this.createTable()}}(jQuery);